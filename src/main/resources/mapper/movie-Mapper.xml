<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 모든 SQL문을 mapper태그 안에 작성 -->
<mapper namespace="movieMapper">
	<!-- 영화 -->
	<resultMap type="com.kh.project.movie.vo.MovieVO" id="movie">
		<id column="MV_CODE"			property="mvCode"/>
		<result column="TITLE"			property="title"/>
		<result column="DIRECTOR"		property="director"/>
		<result column="ACTOR"			property="actor"/>
		<result column="GENRE"			property="genre"/>
		<result column="AGE"			property="age"/>
		<result column="RUNNING_TIME"	property="runningTime"/>
		<result column="NATION"			property="nation"/>
		<result column="OPEN_DATE"		property="openDate"/>
		<result column="CONTENT"		property="content"/>
		<result column="MV_STATE"		property="mvState"/>
		<result column="GRADE"			property="grade"/>
	</resultMap>
	
	<!-- 댓글 -->
	<resultMap type="com.kh.project.movie.vo.MovieReplyVO" id="reply">
		<id column="MV_REPLY_CODE"			property="mvReplyCode"/>
		<result column="CREATE_DATE"		property="createDate"/>
		<result column="GRADE"				property="grade"/>
		<result column="WRITER"				property="writer"/>
		<result column="MV_REPLY_CONTENT"	property="mvReplyContent"/>
		<result column="MV_CODE"			property="mvCode"/>
	</resultMap>
	
	<!-- 포스터 이미지 파일 -->
	<resultMap type="com.kh.project.movie.vo.MovieImgVO" id="image">
		<id column="MOVIE_IMG_CODE"			property="movieImgCode"/>
		<result column="ORIGIN_IMG_NAME"	property="originImgName"/>
		<result column="ATTACHED_IMG_NAME"	property="attachedImgName"/>
		<result column="MV_CODE"			property="mvCode"/>
	</resultMap>
	
	<!-- 현재 상영중인 영화 목록 조회 -->
	<select id="selectMovieList" resultMap="movie">
		SELECT TITLE
			, GENRE
			, AGE
			, OPEN_DATE
		FROM OISONE_MOVIE
		WHERE MV_STATE = 'Y'
	</select>
	
	<!-- 영화 목록 조회 -->
	<select id="selectMovieListDetail" resultMap="movie">
		SELECT TITLE
			, DIRECTOR
			, ACTOR
			, GENRE
			, AGE
			, RUNNING_TIME
			, NATION
			, OPEN_DATE
			, CONTENT
			, GRADE
		FROM OISONE_MOVIE
	</select>
	
</mapper>












